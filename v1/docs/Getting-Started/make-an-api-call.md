---
title: "Make an API call"
excerpt: "Welcome to the Dimensions REST API Excerpt..."
---

# Make an API call

To make an API call, you must request an authentication token and call the API using an HTTP method and a URL, which includes a root unique to you and one of the URLs (or endpoints) listed in this Developer Portal. 

* [Prerequisites](#Prerequisites)
* [Call the Dimensions API](#CallTheKronosAPI)
	* [Anatomy of an API call](#AnatomyOfAnAPICall)
	* [Exercises](#Exercises)
		* [Generate a token](#GenerateAToken)
		* [Call an API resource](#CallAnAPIResource)
			* [First exercise](#FirstExercise)
			* [Second exercise](#SecondExercise)
	* [Code examples](#CodeExamples)

## Prerequisites {#Prerequisites}

The following are required to invoke the Dimensions API:

* An existing Dimensions account for your organization along with an employee with the appropriate Developer Admin permissions to generate an app key. Refer to the [Generate and access app keys](C:a44a9f41-6442-42e3-91b1-9c946de54763) topic for more information.
* If you have not already done so, be sure to understand the basic structure of our API outlined in the [Getting started](C:636f581c-50a8-41a7-af43-e5057f9c20bd) topic.

## Call the Dimensions API {#CallTheKronosAPI}

Before you make an API call, it is helpful to understand the flow typical of every interaction between an application and the API. After the flow is described, we move on to exercises and code examples.

* [Anatomy of an API call](#AnatomyOfAnAPICall)
* [Exercises](#Exercises)
	* [Generate a token](#GenerateAToken)
	* [Call an API resource](#CallAnAPIResource)
		* [First exercise](#FirstExercise)
		* [Second exercise](#SecondExercise)
* [Code examples](#CodeExamples)

### Anatomy of an API call {#AnatomyOfAnAPICall}

Every API call follows this basic flow:

1. Your application requests and receives an OAuth 2.0 token from the authentication server.
2. Your application invokes the API by making a properly-formatted call consisting of an verb (HTTP method) and a noun (API resource in the form of a URL) along with all necessary HTTP headers, parameters, and any required JSON body.
3. Your authorization token is validated.
4. If valid, the Dimensions ecosystem receives and processes your application's API request.
5. Dimensions returns an API response to your application.

### Exercises {#Exercises}

The following exercises illustrate simple calls against the Dimensions API. If you have access to the Dimensions API, feel free to follow along and try out a call yourself.

#### Generate a token {#GenerateAToken}

*__Note:__ This exercise uses the Postman extension for Google Chrome.*

*__Note:__ If you are using a token provided by a federated identity management system, include the federated token as your `access_token` value just as you would use a Dimensions-generated `access_token`.*

To obtain an access token:

1. Open Postman

2. Create and Save a Request

3. Change the **METHOD** to **POST**

4. Add the authentication URL: `https://<<hostName>>.mykronos.com/api/authentication/access_token`

  *__Note:__ Remember to replace `<<hostName>>` with the unique portion of your tenant's URL.*

5. Select **Headers** and add the following key/value pairs:
	* `Content-Type : application/x-www-form-urlencoded`
	* `appkey : <<appkey>>`

  	 *__Note:__ Replace `<<appkey>>` with the app key generated by an employee with the appropriate Developer Admin permissions. Refer to the [Generate and access app keys](C:a44a9f41-6442-42e3-91b1-9c946de54763) topic for more information.*

6. Select **Body**

7. Choose content type **x-www-form-urlencoded**

8. Add the following key/value pairs:
	* `username : <<username>>`
	* `password : <<password>>`
	* `client_id : <<client ID>>`
	* `client_secret : <<client password>>`
	* `grant_type : password`
	* `auth_chain : OAuthLdapService`

9. Select **Send** to generate and receive an access token

  *__Note:__ You should select and copy your access token before you leave this screen.*

Refer to the [Authentication and Security](C:a4943b5b-f44d-4eab-8ccd-24da43b26e64) topic for more information about generating and refreshing an access token.

#### Call an API resource {#CallAnAPIResource}

Once you have an access token, you're ready to call an API resource. The following exercises step you through a set of sample calls.

##### __First exercise__ {#FirstExercise}

*__Note:__ This exercise uses the Postman extension for Google Chrome.*

*__Note:__ If you are using a token provided by a federated identity management system, include the federated token as your `access_token` value just as you would use a Dimensions-generated `access_token`.*

This exercise calls the Retrieve Person by ID operation using the GET HTTP method.

To call the API:

1. Open Postman

2. Ensure the **METHOD** is **GET**

3. Add the URL: `https://<<hostName>>.mykronos.com/api/v1/commons/persons/<<personId>>`

	*__Note:__ The URL is composed of two parts: a root (`https://<<hostName>>.mykronos.com/api`) and an endpoint (`/v1/commons/persons/<<personId>>`). This Developer Portal documents all available endpoints.*

	*__Note:__ Remember to replace `<<hostName>>` with the unique portion of your tenant's URL and `<<personId>>` with a valid person number.*

4. Select **Headers** and add the following key/value pairs:
  * `content-type : application/json`
  * `appkey : <<app_key>>`

      *__Note:__ Replace `<<appkey>>` with the app key generated by an employee with the appropriate Developer Admin permissions. Refer to the [Generate and access app keys](C:a44a9f41-6442-42e3-91b1-9c946de54763) topic for more information.*
  * `Authorization : <<access_token>>`
	
      *__Note:__ Replace `<<access_token>>` with the token generated during the [Generate a token](#GenerateAToken) exercise.*

5. Select **Send** to call the API

This call returns a response body similar to the following example:

<?prettify lang=json linenums=true?>
``` json
{
    "personIdentity": {
        "personKey": 210
    },
    "personInformation": {
        "accessAssignment": {},
        "employmentStatusList": [
            {
                "effectiveDate": "2016-08-13",
                "employmentStatusName": "Active",
                "expirationDate": "3000-01-01"
            }
        ],
        "expectedHoursList": [
            {
                "quantity": 8,
                "timePeriodTypeName": "Daily"
            },
            {
                "quantity": 40,
                "timePeriodTypeName": "Weekly"
            },
            {
                "quantity": 80,
                "timePeriodTypeName": "Pay Period"
            }
        ],
...
}
```

##### __Second exercise__ {#SecondExercise}

*__Note:__ This exercise uses the Postman extension for Google Chrome.*

*__Note:__ If you are using a token provided by a federated identity management system, include the federated token as your `access_token` value just as you would use a Dimensions-generated `access_token`.*

This exercise calls the Retrieve Aggregated Data operation using the POST HTTP method and a JSON request body.

To call the API:

1. Open Postman

2. Ensure the **METHOD** is **POST**

3. Add the URL: `https://<<hostName>>.mykronos.com/api/v1/commons/data/multi_read`

	*__Note:__ The URL is composed of two parts: a root (`https://<<hostName>>.mykronos.com/api`) and an endpoint (`/v1/commons/data/multi_read`). This Developer Portal documents all available endpoints.*

	*__Note:__ Remember to replace `<<hostName>>` with the unique portion of your tenant's URL.*

4. Select **Headers** and add the following key/value pairs:
	* `content-type : application/json`
	* `appkey : <<app_key>>`

    	*__Note:__ Replace `<<appkey>>` with the app key generated by an employee with the appropriate Developer Admin permissions. Refer to the [Generate and access app keys](C:a44a9f41-6442-42e3-91b1-9c946de54763) topic for more information.*
	* `Authorization : <<access_token>>`

    	*__Note:__ Replace `<<access_token>>` with the token generated during the [Generate a token](#GenerateAToken) exercise.*

5. Select **Body**

6. Choose body type **raw**

7. Add the call body

<?prettify lang=json linenums=true?>
``` json	
{
  "select": [
    {"key": "EMP_COMMON_FULL_NAME"},
    {"key": "EMP_COMMON_PRIMARY_JOB"},
    {"key": "EMP_COMMON_PRIMARY_ORG"},
    {"key": "PEOPLE_HIRE_DATE"}],
  "from": {
    "view": "EMP",
    "employeeSet": {
      "hyperfind": {
        "id": "1"
      },
      "dateRange": {
        "symbolicPeriod": {
          "id": 5
        }
      }
    }
  },
  "where": [
    {
      "key": "EMP_COMMON_PRIMARY_JOB",
      "operator": "STARTS_WITH",
      "values": [
        "Apprentice"
      ]
    }
  ]
}
```
	
8. Select **Send** to call the API

This call returns a response body similar to the following example:

<?prettify lang=json linenums=true?>
``` json
{
    "metadata": {
        "lastRefreshed": "2017-10-18T14:45:23.713785328",
        "numNodes": "39",
        "metadataKey": "ce1ed033-3ccb-4d61-90c6-abd49de4eca0",
        "cacheKey": "ce1ed033-3ccb-4d61-90c6-abd49de4eca0",
        "totalNodes": "39",
        "totalElements": "39"
    },
    "data": {
        "key": {
            "ROOT": "-1"
        },
        "coreEntityKey": {},
        "attributes": [],
        "children": [
            {
                "key": {
                    "PEOPLE": "91"
                },
                "coreEntityKey": {
                    "EMP": {
                        "id": "91"
                    }
                },
...
}
```

### Code examples {#CodeExamples}

* Request Type:	`HTTP GET`
* Content Type:	`application/json`
* External URL:	`https://<<hostName>>.mykronos.com/api/v1/commons/persons/<<personId>>`

The following code examples demonstrate an API call.

**cURL**
<?prettify lang=curl linenums=true?>
``` curl
curl -X GET \
  https://<<hostName>>.mykronos.com/api/v1/commons/persons/<<personId>> \
  -H 'appkey: <<app_key>>' \
  -H 'authorization: <<access_token>>' \
  -H 'content-type: application/json'
```

**Java OkHttp**
<?prettify lang=java linenums=true?>
``` java
OkHttpClient client = new OkHttpClient();

Request request = new Request.Builder()
  .url("https://<<hostName>>.mykronos.com/api/v1/commons/persons/<<personId>>")
  .get()
  .addHeader("content-type", "application/json")
  .addHeader("appkey", "<<app_key>>")
  .addHeader("authorization", "<<access_token>>")
  .build();

Response response = client.newCall(request).execute();
}
```

This call returns a response body similar to the following example:

<?prettify lang=json linenums=true?>
``` json
{
    "personIdentity": {
        "personKey": 210
    },
...
}
```
